# Mizual Backend Environment Variables - DEV Environment
# Optimized for Render Free Tier: 512MB RAM, 0.1 vCPU

# Environment Configuration
ENVIRONMENT=preview
DATABASE_SCHEMA=preview

# Resource Configuration (Resource Constrained)
MAX_WORKERS=1
CELERY_WORKER_MEMORY_LIMIT=200MB
CELERY_CONCURRENCY=1

# Database Configuration (Supabase Preview Schema)
DATABASE_URL=postgresql://username:password@host:port/database

# Redis Configuration (Render Redis Service)
CELERY_BROKER_URL=rediss://default:password@host:port?ssl_cert_reqs=CERT_NONE
CELERY_RESULT_BACKEND=rediss://default:password@host:port?ssl_cert_reqs=CERT_NONE

# AI API Keys (Set via Render Dashboard)
BFL_API_KEY=your_bfl_api_key_here
LLM_API_KEY=your_gemini_api_key_here

# LLM Configuration for Prompt Enhancement
ENABLE_PROMPT_ENHANCEMENT=true
LLM_PROVIDER=gemini
LLM_MODEL=gemini-1.5-flash
LLM_MAX_IMAGE_DIMENSION=1024
LLM_TIMEOUT=30

# AI API Configuration
FLUX_API_URL=https://api.us.bfl.ai/v1/flux-kontext-pro

# Storage Configuration (S3/Backblaze - Preview Folder)
S3_BUCKET_NAME=mizual-images
S3_ENDPOINT_URL=your_s3_endpoint
S3_ACCESS_KEY_ID=your_access_key
S3_SECRET_ACCESS_KEY=your_secret_key
S3_PUBLIC_URL=your_public_url

# Rate Limiting Configuration (Relaxed for Dev)
RATE_LIMIT_DAILY_IMAGES=1000
RATE_LIMIT_BURST_SECONDS=5
RATE_LIMIT_STATUS_CHECKS_PER_MINUTE=3000

# Image Type Validation
UNSUPPORTED_IMAGE_TYPES=heic,avif,gif

# Development Settings
PYTHONUNBUFFERED=1
LOG_LEVEL=INFO