# Mizual Backend Environment Variables - PRODUCTION Environment
# Optimized for Lightsail: 2GB RAM, 2 vCPU

# Environment Configuration
ENVIRONMENT=production
DATABASE_SCHEMA=public

# Resource Configuration (High Performance)
MAX_WORKERS=5
CELERY_WORKER_MEMORY_LIMIT=1GB
CELERY_CONCURRENCY=2

# Database Configuration
DATABASE_URL=postgresql://username:password@host:port/database

# Redis Configuration (Local Redis on Lightsail)
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/0

# AI API Keys (Set these securely)
BFL_API_KEY=your_bfl_api_key_here
LLM_API_KEY=your_gemini_api_key_here

# LLM Configuration for Prompt Enhancement
ENABLE_PROMPT_ENHANCEMENT=true
LLM_PROVIDER=gemini
LLM_MODEL=gemini-1.5-flash
LLM_MAX_IMAGE_DIMENSION=1024
LLM_TIMEOUT=30

# AI API Configuration
FLUX_API_URL=https://api.us.bfl.ai/v1/flux-kontext-pro

# Storage Configuration (S3/Backblaze)
S3_BUCKET_NAME=mizual-images
S3_ENDPOINT_URL=your_s3_endpoint
S3_ACCESS_KEY_ID=your_access_key
S3_SECRET_ACCESS_KEY=your_secret_key
S3_PUBLIC_URL=your_public_url

# Rate Limiting Configuration (Production)
RATE_LIMIT_DAILY_IMAGES=100
RATE_LIMIT_BURST_SECONDS=5
RATE_LIMIT_STATUS_CHECKS_PER_MINUTE=60

# Image Type Validation
UNSUPPORTED_IMAGE_TYPES=heic,avif,gif

# Production Settings
PYTHONUNBUFFERED=1
LOG_LEVEL=WARNING